description: The configuration below will run nancy on your golang project dependencies. It specifies custom
  architecture (windows), nancy version (v1.0.6), and 'my-Gopkg.lock' file module file. It runs nancy with the
  --quiet option.
usage:
  version: 2.1

  orbs:
    circleci-nancy-orb: sonatype-nexus-community/circleci-nancy-orb@x.y.z

  jobs:
    job-nancy:
      executor: circleci-nancy-orb/golang-executor
      steps:
        - checkout
        - circleci-nancy-orb/install-nancy:
            nancy-platform: windows-amd64
            nancy-version: v1.0.6
        - circleci-nancy-orb/run-nancy-modfile:
            modfile: my-Gopkg.lock
            options: sleuth --quiet -p

  workflows:
    main:
      jobs:
        - job-nancy
